<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <title>The Wedding of Billy & Vydia</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Raleway:wght@100;300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --navy-1:#0a1d3b;--navy-2:#1e3a8a;--btn:#446A91;--white:#ffffff;--muted:#6F8EA0;
      --gold-accent: #D4AF37; 
      --gold-light: #FFD700; 
      --gold-dark: #B8860B; 
    }
    *{box-sizing:border-box}
    html { scroll-behavior: smooth; }
    body{
      font-family: 'Raleway', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:var(--navy-1);
      color:var(--white);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
      font-size:1.44rem;
      margin: 0;
    }

    /* LANDING (fixed) */
    .cover {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('images/bg1.jpg') center center/cover no-repeat;
        transition: transform .95s cubic-bezier(.22, 1, .36, 1);
        z-index: 70;
    }
    
    /* Tombol "Open Invitation" */
    .btn{
        appearance:none; border: none; 
        background: linear-gradient(145deg, var(--gold-light), var(--gold-dark));
        color: var(--navy-1); padding: 1.2rem 3.8rem; border-radius: 50px; 
        font-weight: 700; cursor:pointer; font-size: 1.3rem; letter-spacing: 1.5px;
        text-transform: uppercase; box-shadow: 0 5px 15px rgba(0,0,0,0.4); 
        transition: all 0.3s ease;
        text-decoration: none; /* Tambahan untuk tombol map */
    }
    .btn:hover{
        background: linear-gradient(145deg, var(--gold-dark), var(--gold-light));
        transform: translateY(-3px) scale(1.02); 
        box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    }

    main {
        position: relative;
        width: 100%;
    }
    
    /* COMMON SECTION STYLE */
    section { box-sizing: border-box; padding: 80px 20px; min-height: 80vh; }
    
    /* INITIAL ANIMATION STATES (untuk elemen yang akan di-reveal) */
    .anim-fade { 
        opacity: 0; 
        transform: translateY(20px); 
        transition: opacity 1.2s ease, transform 1.2s ease;
    }
    .anim-fade.is-visible { 
        opacity: 1; 
        transform: translateY(0); 
    }

    /* TYPOGRAPHY MODERN-ELEGAN BARU UNTUK JUDUL SECTION */
    .section-heading-wrapper {
        text-align: center;
        margin-bottom: 3rem;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 1.2s ease, transform 1.2s ease;
    }
    .section-heading-wrapper.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    .section-heading-wrapper h2, .section-heading-wrapper h1 {
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        margin: 0;
        color: var(--gold-light);
        text-shadow: 0 0 10px rgba(0,0,0,0.4);
    }
    .section-heading-wrapper h2 {
        font-size: 2.8rem;
    }
    .section-heading-wrapper h1 {
        font-size: 3.5rem; /* Untuk Thank You Section */
    }
    
    .section-heading-sub {
        font-family: 'Raleway', sans-serif;
        font-weight: 300;
        font-size: 1.1rem;
        letter-spacing: 3px;
        text-transform: uppercase;
        margin-top: 0.5rem;
        opacity: 0.8;
    }

    .section-line-decorative {
        height: 1px;
        background-color: var(--gold-accent);
        width: 100px; 
        margin: 10px auto; 
        opacity: 0.8;
    }

    /* =================================================================
       SECTION INTRODUCTION (Khusus)
       ================================================================= */
    .intro-section {
        height: 100vh;
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center; 
        text-align: center;
        background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('images/bg2.jpg') center center/cover no-repeat;
        color: var(--white);
        padding: 0 20px; 
        position: relative;
    }

    /* Gaya Judul Intro */
    .intro-title-wrapper {
        position: relative;
        max-width: 900px; 
        width: 100%;
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
    }

    .intro-section.animate .intro-title-wrapper {
        opacity: 1;
        transform: translateY(0);
    }

    .intro-line-decorative { /* KHUSUS UNTUK INTRO */
        height: 1px;
        background-color: var(--gold-accent);
        width: 40%; 
        margin: 15px auto; 
        opacity: 0.7;
    }

    .intro-title-wrapper h1 {
        font-family: 'Playfair Display', serif; 
        font-size: 7rem; 
        font-weight: 900; 
        margin: 20px 0; 
        line-height: 0.95; 
        color: var(--gold-light); 
        text-shadow: 
            0 0 15px rgba(0,0,0,0.6), 
            0 0 30px rgba(255,215,0,0.2); 
        -webkit-text-stroke: 1.5px var(--gold-dark); 
        text-stroke: 1.5px var(--gold-dark);
    }

    .intro-title-wrapper p {
        font-family: 'Raleway', sans-serif; 
        font-size: 2.2rem; 
        font-weight: 300;
        margin: 15px 0;
        letter-spacing: 3px; 
        opacity: 0.9;
        text-transform: uppercase;
    }

    /* =================================================================
       SECTION PROFIL PENGANTIN
       ================================================================= */
    .bride-groom-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: var(--navy-1);
    }

    .profile-container { 
        display: flex; 
        justify-content: center; 
        gap: 4rem; 
        max-width: 1000px; 
        width: 90%; 
        margin-top: 2rem;
    }
    
    .profile-card { 
        display: flex; 
        flex-direction: column; 
        align-items: center;
        text-align: center;
        max-width: 400px;
    }
    .profile-card img { 
        width: 300px; 
        height: 400px; 
        border-radius: 50%; 
        object-fit: cover; 
        border: 4px solid var(--gold-accent); 
        margin-bottom: 2rem;
        box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }
    
    .profile-line {
        height: 1px;
        width: 100px;
        background: var(--gold-accent);
        margin: 1rem auto;
    }
    
    .profile-name {
        font-family: 'Playfair Display', serif; 
        font-size: 2.8rem; 
        font-weight: 700; 
        margin: 0.5rem 0; 
        color: var(--gold-light);
    }
    
    .profile-parent-detail {
        margin-top: 1rem;
        font-size: 1.0rem; 
        opacity: 0.8;
        line-height: 1.6;
    }
    .profile-parent-detail strong {
        display: block;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--white);
    }

    /* =================================================================
       SECTION GALLERY
       ================================================================= */
    .gallery-section {
        background-color: var(--navy-1);
        overflow: hidden;
        position: relative; 
        padding-top: 50px; 
        padding-bottom: 50px;
        min-height: 1100px; 
    }
    
    .gallery-bg-layer {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        display: grid;
        grid-template-rows: repeat(3, 280px); 
        grid-template-columns: repeat(4, 1fr); 
        gap: 20px; 
        opacity: 0.2; 
        filter: blur(5px) grayscale(80%); 
        z-index: 1;
        pointer-events: none; 
        overflow: hidden;
        justify-content: center;
        align-content: center;
    }
    .gallery-bg-layer img { width: 100%; height: 100%; object-fit: cover; }

    .gallery-container {
        position: relative;
        z-index: 10; 
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 1rem 0; 
    }

    .gallery-carousel {
        display: flex;
        flex-direction: column; 
        flex-wrap: wrap; 
        height: 700px; 
        gap: 35px; 
        overflow-x: auto; 
        width: 100%;
        padding: 10px 5%; 
        scroll-snap-type: x mandatory; 
        scrollbar-width: thin; 
        scrollbar-color: var(--gold-accent) rgba(0,0,0,0.3);
        align-items: flex-start; 
    }
    .gallery-carousel::-webkit-scrollbar { height: 8px; }
    .gallery-carousel::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
    .gallery-carousel::-webkit-scrollbar-thumb { background-color: var(--gold-accent); border-radius: 10px; }

    .gallery-item {
        flex: 0 0 auto; 
        width: 300px; 
        height: 200px; 
        border-radius: 12px;
        border: 2px solid var(--gold-accent);
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        scroll-snap-align: start; 
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        background: #000;
    }
    .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    .gallery-item:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        border-color: #fff;
    }
    .gallery-item:hover img {
        transform: scale(1.1);
    }

    /* LIGHTBOX (ZOOM) */
    .lightbox {
        position: fixed;
        z-index: 999;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.95);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }
    .lightbox.active { opacity: 1; pointer-events: all; }
    .lightbox img {
        max-width: 90%; max-height: 90%;
        border: 2px solid var(--gold-accent);
        border-radius: 4px;
        box-shadow: 0 0 30px rgba(255,255,255,0.1);
        transform: scale(0.9); transition: transform 0.3s ease;
    }
    .lightbox.active img { transform: scale(1); }
    .lightbox-close { position: absolute; top: 20px; right: 30px; font-size: 3rem; color: white; cursor: pointer; }

    /* =================================================================
       SECTION COUNTDOWN & QUOTE
       ================================================================= */
    .count-section {
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        text-align:center;
        background:var(--navy-1);
        padding-left: 12vw;
        padding-right: 12vw;
    }
    .verse{font-style:italic;font-weight:300;font-size:2.0rem;max-width:980px;margin:0 0 2.2rem;line-height:1.7}
    .verse small{display:block;margin-top:.8rem;font-size:1.05rem;opacity:.9;font-weight:400}
    
    .countdown-timer { 
        font-weight: 700; 
        font-size: 3.5rem; 
        margin-bottom: 2rem; 
        color: var(--gold-light);
        font-family: 'Playfair Display', serif;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    
    /* NEW: CONTAINER UNTUK MEMUSATKAN KOTAK ACARA DAN TOMBOL */
    .event-container-centered {
        max-width: 600px; /* Lebar maksimum kotak */
        width: 90%;
        margin: 3rem auto 0 auto; /* Tengah vertikal dan horizontal */
        display: flex; 
        flex-direction: column;
        align-items: center; /* Memastikan tombol rata tengah */
        gap: 1.5rem; /* Jarak antara kotak info dan tombol */
    }

    .event-info-wrapper {
        padding: 1.5rem 2rem;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--gold-accent);
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        width: 100%; /* Lebar penuh dari container 600px */
        text-align: center; 
    }
    .event-info{ 
        font-weight:600; 
        font-size:1.4rem; 
        color:var(--white); 
        line-height: 1.8;
    }
    /* Mengatur ulang posisi judul acara di dalam wrapper */
    .event-info-wrapper .section-heading-wrapper {
        text-align: center; 
        margin-bottom: 0.5rem;
    }
    
    /* STYLE UNTUK TOMBOL MAP YANG SUDAH DIRATAKAN TENGAH */
    .map-btn {
        padding: 0.8rem 2.5rem;
        font-size: 1rem;
        width: 80%; 
        max-width: 300px; 
        text-align: center; 
    }


    /* =================================================================
       SECTION RSVP & GUESTBOOK
       ================================================================= */
    .rsvp-section {
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        text-align:center;
        background:var(--navy-1);
    }
    /* REVISI SPASI RSVP & GUESTBOOK */
    .rsvp-section p, .guestbook-section p { 
        max-width: 500px; 
        margin-bottom: 0.5rem; 
        opacity: 0.8; 
        font-size: 1.1rem; 
    }
    
    .rsvp-form, .wish-form { max-width: 500px; width: 100%; }
    .form-group { margin-bottom: 1.2rem; text-align: left; transition: opacity 0.3s ease; }
    .form-group label { display: block; margin-bottom: 0.5rem; font-size: 0.9rem; opacity: 0.9; }
    .form-group input, .form-group select, .form-group textarea { 
        width: 100%; padding: 0.8rem 1rem; border-radius: 8px; border: 1px solid var(--muted); 
        background-color: #0c2144; color: var(--white); font-size: 1rem; font-family: 'Raleway', sans-serif; 
    }
    .form-group input:focus, .form-group select:focus, .form-group textarea:focus { 
        outline: none; border-color: var(--gold-accent); 
        box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.3); 
    }
    .radio-group { display: flex; gap: 1rem; }
    .radio-group label { display: flex; align-items: center; gap: 0.5rem; }
    .form-submit-btn { 
        appearance:none; border:0; 
        background: linear-gradient(145deg, var(--gold-light), var(--gold-dark));
        color: var(--navy-1); 
        padding:.8rem 2.2rem; border-radius:32px; font-weight:700; cursor:pointer; 
        font-size:1.2rem; transition: all .3s ease; width: 100%; margin-top: 1rem; 
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .form-submit-btn:hover { 
        background: linear-gradient(145deg, var(--gold-dark), var(--gold-light));
        transform: translateY(-2px);
    }

    /* GUESTBOOK SECTION */
    .guestbook-section {
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        text-align:center;
        background:var(--navy-1);
        gap: 0.5rem; 
    }
    .wishes-display { 
        width: 100%; max-width: 600px; height: 350px; overflow-y: auto; 
        background: rgba(0,0,0,0.2); border: 1px solid var(--muted); border-radius: 10px; 
        padding: 1rem; box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
    }
    .wishes-display::-webkit-scrollbar { width: 6px; }
    .wishes-display::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
    .wishes-display::-webkit-scrollbar-thumb { background-color: var(--gold-accent); border-radius: 10px; }

    .wish-card { 
        background: #0c2144; border-radius: 8px; padding: 1rem; text-align: left; 
        margin-bottom: 1rem; border-left: 3px solid var(--gold-accent); 
        box-shadow: 0 2px 5px rgba(0,0,0,0.4);
    }
    .wish-card h3 { font-size: 1.1rem; margin: 0 0 0.5rem; color: var(--gold-accent); }
    .wish-card p { font-size: 0.9rem; margin: 0; opacity: 0.9; }
    .wish-form textarea { height: 130px; resize: vertical; }

    /* PENUTUP */
    .thank-you-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: var(--navy-1);
        min-height: 40vh;
    }
    .thank-you-text-bold { 
        font-family: serif; 
        font-size: 3rem; 
        font-weight: 600; 
        text-align: center; 
        max-width: 800px; 
        line-height: 1.4; 
        text-shadow: 0 0 15px rgba(255, 255, 255, 0.1); 
    }
    .gemini-credit { position: absolute; bottom: 2rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; opacity: 0.5; color: var(--muted); }
    .gemini-logo { width: 16px; height: 16px; }

    @media (max-width: 768px) {
        .intro-title-wrapper h1 {
            font-size: 4rem; 
            -webkit-text-stroke: 1px var(--gold-dark);
            text-stroke: 1px var(--gold-dark);
        }
        .intro-title-wrapper p {
            font-size: 1.6rem;
            letter-spacing: 2px;
        }
        .profile-container { flex-direction: column; gap: 3rem; }
        .profile-card img { width: 200px; height: 270px; }
        .profile-name { font-size: 2.2rem; }
        .profile-parent-detail { font-size: 0.9rem; }
        .profile-parent-detail strong { font-size: 1.1rem; }
        
        .section-heading-wrapper h2 { font-size: 2.2rem; }
        .countdown-timer { font-size: 2.5rem; }
        .event-info { font-size: 1.2rem; }
        .gallery-carousel { height: 470px; padding: 10px 20px; gap: 10px; }
        .gallery-item { width: 220px; height: 150px; }

        .guestbook-section { gap: 0.5rem; } 
        .wishes-display { height: 300px; }
        .section-heading-wrapper h1 { font-size: 2.5rem; }
        .thank-you-text-bold { font-size: 2rem; }
        
        /* Tombol map di mobile kembali ke lebar penuh agar lebih mudah di-klik */
        .map-btn {
            width: 100%; 
            max-width: none;
        }
    }
  </style>
</head>
<body>

  <section class="cover" id="cover">
    <button class="btn" id="openBtn">Buka Undangan</button>
  </section>

  <main id="mainContent" style="display: none;">
    <section class="intro-section" id="introSection">
      <div class="intro-title-wrapper">
        <p>The Wedding of</p>
        <div class="intro-line-decorative"></div>
        <h1>Billy & Vydia</h1>
        <div class="intro-line-decorative"></div>
      </div>
    </section>

    <section class="bride-groom-section" id="brideGroomSection">
        <div class="section-heading-wrapper anim-fade">
            <p class="section-heading-sub">With Love</p>
            <h2>The Bride & The Groom</h2>
            <div class="section-line-decorative"></div>
        </div>
        <div class="profile-container">
            <div class="profile-card anim-fade">
                <img src="images/billy.jpg" alt="Foto Calon Mempelai Pria">
                <div class="profile-details">
                    <p class="profile-name">Jonathan Billy Christian Tjiayadi</p>
                    <div class="profile-line"></div>
                    <p class="profile-parent-detail">
                        Putra tunggal, anak pertama dari:<br>
                        Bpk. Lucky Tjia & Ibu Emilia Kurniasari
                    </p>
                </div>
            </div>
            
            <div class="profile-card anim-fade">
                <img src="images/vydia.jpg" alt="Foto Calon Mempelai Wanita">
                <div class="profile-details">
                    <p class="profile-name">Hany Vydiasatti Widagdo</p>
                    <div class="profile-line"></div>
                    <p class="profile-parent-detail">
                        Putri kedua, anak kedua dari:<br>
                        Bpk. Handoko Widagdo & Ibu Sri Indrawati
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <section class="gallery-section" id="gallerySection">
        
        <div class="gallery-bg-layer">
            <img src="images/gallery/mem-01.jpg" loading="lazy">
            <img src="images/gallery/mem-02.jpg" loading="lazy">
            <img src="images/gallery/mem-03.jpg" loading="lazy">
            <img src="images/gallery/mem-04.jpg" loading="lazy">
            <img src="images/gallery/mem-05.jpg" loading="lazy">
            <img src="images/gallery/mem-06.jpg" loading="lazy">
            <img src="images/gallery/mem-07.jpg" loading="lazy">
            <img src="images/gallery/mem-08.jpg" loading="lazy">
            <img src="images/gallery/mem-09.jpg" loading="lazy">
            <img src="images/gallery/mem-10.jpg" loading="lazy">
            <img src="images/gallery/mem-11.jpg" loading="lazy">
            <img src="images/gallery/mem-12.jpg" loading="lazy">
        </div>

        <div class="gallery-container">
            <div class="section-heading-wrapper anim-fade">
                <p class="section-heading-sub">A Journey of Two Souls</p>
                <h2>Our Precious Memories</h2>
                <div class="section-line-decorative"></div>
            </div>
            <div class="gallery-carousel anim-fade">
                <div class="gallery-item"><img src="images/gallery/mem-01.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-02.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-03.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-04.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-05.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-06.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-07.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-08.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-09.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-10.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-11.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="images/gallery/mem-12.jpg" loading="lazy"></div>
            </div>
        </div>
    </section>

    <section class="count-section" id="countSection">
      <p class="verse anim-fade">“Above all, clothe yourselves with love, which binds us all together in perfect harmony.”<br><small>— Colossians 3:14 (NLT)</small></p>
      
      <div class="countdown-timer anim-fade" id="countdown">-- hari -- jam -- menit -- detik</div>
      
      <div class="event-container-centered anim-fade">
          
          <div class="event-info-wrapper">
            <div class="section-heading-wrapper" style="margin-bottom: 0;">
                <h2 style="font-size:1.8rem; color: var(--white); text-shadow: none;">Royal Dynasty</h2>
            </div>
            <div class="event-info">
                Sabtu, 13 Desember 2025<br>
                Pukul 11.00 - 14.00 WIB<br>
                Gedung Graha Sudirman, Bandung
            </div>
          </div>
          
          <a href="https://maps.google.com/?cid=10343307328038200757&g_mp=Cidnb29nbGUubWFwcy5wbGFjZXMudjEuUGxhY2VzLlNlYXJjaFRleHQ" target="_blank" class="btn map-btn">View in Maps</a>
      </div>
      </section>
    
    <section class="rsvp-section" id="rsvpSection">
        <div class="section-heading-wrapper anim-fade">
            <p class="section-heading-sub">Kindly Confirm Your Attendance</p>
            <h2>RSVP</h2>
            <div class="section-line-decorative"></div>
        </div>
        <p class="anim-fade">Kehadiran Anda adalah hadiah terindah bagi kami. Mohon isi form di bawah ini untuk mengonfirmasi kehadiran Anda.</p>
        
        <form class="rsvp-form anim-fade" 
              action="https://docs.google.com/forms/d/e/1FAIpQLSct5Xe8qT7GGYeuTyRAH47_pcsy4CFtQ18L-Qb3I01haFU4Zw/formResponse" 
              method="POST" 
              target="hidden_iframe">
              
            <div class="form-group"><label for="nama_rsvp">Nama Lengkap</label>
                <input type="text" id="nama_rsvp" name="entry.877086558" required>
            </div>
            
            <div class="form-group"><label>Konfirmasi Kehadiran</label>
                <div class="radio-group">
                    <label><input type="radio" name="entry.1498135098" value="Hadir" checked> Hadir</label>
                    <label><input type="radio" name="entry.1498135098" value="Tidak Hadir"> Tidak Hadir</label>
                </div>
            </div>
            
            <div id="jumlahTamuWrapper">
                <div class="form-group"><label for="jumlah_tamu">Jumlah Tamu yang Akan Hadir</label>
                    <select id="jumlah_tamu" name="entry.1424661284" required>
                        <option value="1 orang">1 orang</option>
                        <option value="2 orang">2 orang</option>
                        <option value="3 orang">3 orang</option>
                        <option value="4 orang">4 orang</option>
                        <option value="5 orang">5 orang</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group" id="hpGroup"><label for="hp">Nomor HP</label>
                <input type="tel" id="hp" name="entry.2606285" required>
            </div>
            
            <div class="form-group" id="emailGroup"><label for="email">Alamat Email</label>
                <input type="email" id="email" name="entry.433065055" required>
            </div>
            
            <button type="submit" class="form-submit-btn">Kirim Konfirmasi</button>
        </form>
        </section>

    <section class="guestbook-section" id="guestbookSection">
        <div class="section-heading-wrapper anim-fade">
            <p class="section-heading-sub">Your Blessings are Our Joy</p>
            <h2>Guest Book</h2>
            <div class="section-line-decorative"></div>
        </div>
        <p class="anim-fade">Silakan tinggalkan ucapan selamat dan doa terbaik Anda untuk kami.</p>
        <div class="wishes-display anim-fade">
            <p style="text-align: center; opacity: 0.7; margin-top: 50px;">Memuat ucapan...</p>
        </div>
        <form class="rsvp-form wish-form anim-fade">
            <div class="form-group">
                <label for="your_name">Your Name</label>
                <input type="text" id="your_name" name="Your Name" required>
            </div>
            <div class="form-group">
                <label for="write_your_message">Write Your Message</label>
                <textarea id="write_your_message" name="Write Your Message" required></textarea>
            </div>
            <button type="submit" class="form-submit-btn">Send Wish</button>
        </form>
    </section>

    <section class="thank-you-section" id="thankYouSection">
        <div class="section-heading-wrapper anim-fade" style="margin-bottom: 0;">
            <p class="section-heading-sub">Final Words</p>
            <h1 style="font-size: 3.5rem;">Thank You</h1>
            <div class="section-line-decorative"></div>
        </div>
        <h1 class="thank-you-text-bold anim-fade">Thank you for celebrating this joyful moment with us, God bless you.</h1>
        <div class="gemini-credit" style="position: static; margin-top: 3rem; bottom: auto;">
            <svg class="gemini-logo" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.3333L10.3333 12L12 13.6667L13.6667 12L12 10.3333ZM18.5 6L17.5458 8.16667L15.3333 9.16667L17.5458 10.1667L18.5 12.3333L19.4542 10.1667L21.6667 9.16667L19.4542 8.16667L18.5 6ZM18.5 12.3333L17.5458 14.5L15.3333 15.5L17.5458 16.5L18.5 18.6667L19.4542 16.5L21.6667 15.5L19.4542 14.5L18.5 12.3333ZM8.16667 2.33333L7.16667 4.54583L5 5.5L7.16667 6.45417L8.16667 8.66667L9.16667 6.45417L11.3333 5.5L9.16667 4.54583L8.16667 2.33333Z"/></svg>
            <span>made by Gemini 2.5 Pro</span>
        </div>
    </section>

  </main>

  <audio id="bgMusic" loop>
    <source src="audio/music.mp3" type="audio/mpeg">
  </audio>

  <div id="lightbox" class="lightbox">
    <span class="lightbox-close">×</span>
    <img id="lightbox-img" src="" alt="Zoomed Image">
  </div>

  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" 
          onload="if(submitted){
              alert('Terima kasih! Konfirmasi kehadiran Anda telah terkirim. Sampai jumpa!'); 
              document.querySelector('.rsvp-form').reset();
              submitted = false; /* Reset flag */
          }">
  </iframe>


  <script>
    // SheetDB API URL
    const SHEETDB_URL = 'https://sheetdb.io/api/v1/1k82yget6p7mt';

    // VARIABEL GLOBAL
    let submitted = false;

    (function(){
      const cover = document.getElementById('cover');
      const openBtn = document.getElementById('openBtn');
      const mainContent = document.getElementById('mainContent');
      const introSection = document.getElementById('introSection');
      const music = document.getElementById('bgMusic');
      
      const rsvpForm = document.querySelector('.rsvp-form');
      const radioKehadiran = document.querySelectorAll('input[name="entry.1498135098"]'); 
      const jumlahTamuWrapper = document.getElementById('jumlahTamuWrapper');
      
      const hpGroup = document.getElementById('hpGroup');
      const emailGroup = document.getElementById('emailGroup');
      const hpInput = document.getElementById('hp'); 
      const emailInput = document.getElementById('email'); 
      
      // Guest Book Elements
      const wishesDisplay = document.querySelector('.wishes-display');
      const wishForm = document.querySelector('.wish-form');
      
      // Element Guest Book yang baru
      const nameInput = document.getElementById('your_name'); 
      const messageInput = document.getElementById('write_your_message');

      // LISTENER UNTUK MENGATUR FLAG 'submitted'
      if (rsvpForm) {
          rsvpForm.addEventListener('submit', function() {
              submitted = true;
          });
      }

      // 1. LIGHTBOX LOGIC
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const galleryImages = document.querySelectorAll('.gallery-item img');

      galleryImages.forEach(img => {
        img.addEventListener('click', () => {
            lightboxImg.src = img.src;
            lightbox.classList.add('active');
        });
      });

      lightbox.addEventListener('click', (e) => {
        if (e.target !== lightboxImg) {
            lightbox.classList.remove('active');
        }
      });
      
      document.body.style.overflow = 'hidden';

      // 2. OPEN BUTTON LOGIC
      openBtn.addEventListener('click', ()=>{
        cover.style.transform = 'translateY(-100vh)';
        setTimeout(()=>{
          cover.style.display = 'none';
          if(music){music.play().catch(()=>{ console.log("Autoplay blocked."); });} 
          document.body.style.overflow = 'auto';
          mainContent.style.display = 'block';
          introSection.style.display = 'flex';
          setTimeout(() => {
            introSection.classList.add('animate');
          }, 50);
        }, 950);
      });
      
      // 3. RSVP FORM LOGIC (Mengontrol tampilan dan required attribute)
      radioKehadiran.forEach(radio => {
        radio.addEventListener('change', (event) => {
            if (event.target.value === 'Tidak Hadir') {
                jumlahTamuWrapper.style.display = 'none';
                document.getElementById('jumlah_tamu').removeAttribute('required');
                
                hpGroup.style.display = 'none';
                emailGroup.style.display = 'none';
                hpInput.removeAttribute('required');
                emailInput.removeAttribute('required');

            } else {
                jumlahTamuWrapper.style.display = 'block';
                document.getElementById('jumlah_tamu').setAttribute('required', 'required');
                
                hpGroup.style.display = 'block';
                emailGroup.style.display = 'block';
                hpInput.setAttribute('required', 'required');
                emailInput.setAttribute('required', 'required');
            }
        });
      });

      // 4. INTERSECTION OBSERVER (Animasi saat elemen masuk viewport)
      const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.2
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            
            if (entry.target.classList.contains('profile-container')) {
                const cards = entry.target.querySelectorAll('.anim-fade');
                cards.forEach((card, index) => { 
                    setTimeout(() => { card.classList.add('is-visible'); }, index * 300); 
                });
                observer.unobserve(entry.target); 
            }
            if (entry.target.classList.contains('anim-fade') && !entry.target.parentElement.classList.contains('profile-container')) {
                observer.unobserve(entry.target);
            }
            if (entry.target.classList.contains('section-heading-wrapper')) {
                observer.unobserve(entry.target);
            }
          }
        });
      }, observerOptions);

      document.querySelectorAll('.anim-fade').forEach(el => observer.observe(el));
      document.querySelectorAll('.profile-container').forEach(el => observer.observe(el));
      document.querySelectorAll('.section-heading-wrapper').forEach(el => observer.observe(el));


      // 5. COUNTDOWN LOGIC
      function startCountdown(targetStr){
        const el = document.getElementById('countdown');
        if (!el) return;
        const target = new Date(targetStr).getTime();
        const interval = setInterval(() => {
          const now = Date.now();
          const d = target - now;
          if(d<=0){ el.textContent = 'Acara telah berlangsung'; clearInterval(interval); return; }
          const days = Math.floor(d / (1000*60*60*24));
          const hours = Math.floor((d % (1000*60*60*24)) / (1000*60*60));
          const mins = Math.floor((d % (1000*60*60)) / (1000*60));
          const secs = Math.floor((d % (1000*60)) / 1000);
          el.textContent = `${days} hari ${hours} jam ${mins} menit ${secs} detik`;
        }, 1000);
      }
      startCountdown('December 13, 2025 10:00:00');
      
      
      // 6. GUESTBOOK LOGIC (Real-time via SheetDB)
      
      // --- 6a. Function to Load and Display Wishes ---
      async function loadAndDisplayWishes() {
          try {
              const response = await fetch(SHEETDB_URL);
              const storedWishes = await response.json();

              wishesDisplay.innerHTML = ''; // Clear current display

              if (!storedWishes || storedWishes.length === 0 || storedWishes.error) {
                  // REVISI: Teks Bahasa Inggris
                  wishesDisplay.innerHTML = '<p style="text-align: center; opacity: 0.7; margin-top: 50px;">No wishes yet. Be the first to bless the couple!</p>';
                  return;
              }

              storedWishes.reverse().forEach(wish => { 
                  // REVISI: Menggunakan nama kolom/header yang baru ('Your Name', 'Write Your Message')
                  const name = wish['Your Name'] || 'Anonymous'; 
                  const message = wish['Write Your Message'] || 'No message.';
                  const timestamp = wish.timestamp || 'Time unavailable';
                  
                  const wishCard = document.createElement('div');
                  wishCard.classList.add('wish-card');
                  wishCard.innerHTML = `<h3>${name}</h3><p>${message}</p><small style="font-size: 0.8rem; opacity: 0.6; display: block; margin-top: 5px;">${timestamp}</small>`;
                  wishesDisplay.appendChild(wishCard);
              });

          } catch (error) {
              console.error('Failed to fetch wishes from SheetDB:', error);
              wishesDisplay.innerHTML = '<p style="text-align: center; opacity: 0.7; margin-top: 50px; color: red;">Failed to load wishes. Check your API connection.</p>';
          }
      }

      // --- 6b. Form Submission (POST to SheetDB) ---
      if (wishForm) {
          wishForm.addEventListener('submit', async function(e) {
              e.preventDefault();

              if (!nameInput.value || !messageInput.value) {
                  alert('Please fill out your name and message.');
                  return;
              }

              const currentTimestamp = new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });

              const payload = {
                  // REVISI: Menggunakan nama kolom/header yang baru
                  "Your Name": nameInput.value, 
                  "Write Your Message": messageInput.value, 
                  "timestamp": currentTimestamp 
              };

              const submitBtn = document.querySelector('.wish-form .form-submit-btn');
              submitBtn.textContent = 'Sending...';
              submitBtn.disabled = true;

              try {
                  const response = await fetch(SHEETDB_URL, {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ data: [payload] }) 
                  });

                  const result = await response.json();
                  
                  if (response.ok && result.created === 1) {
                      loadAndDisplayWishes(); 
                      alert('Thank you! Your wish has been sent and will appear shortly.');
                      wishForm.reset();
                  } else {
                      alert('Failed to send wish. Ensure your SheetDB column names are correct.');
                      console.error('SheetDB Error:', result);
                  }

              } catch (error) {
                  alert('A connection error occurred while sending the wish.');
                  console.error('Submission Error:', error);
              } finally {
                  submitBtn.textContent = 'Send Wish';
                  submitBtn.disabled = false;
              }
          });
      }

      // --- 6c. Initial Load and Auto-Refresh ---
      loadAndDisplayWishes(); 
      setInterval(loadAndDisplayWishes, 30000); 
    })();
  </script>
</body>
</html>
